type User {
    age: number,
    name: String,
    login: fn() -> void
}

fn main() -> number {
    let user = test_user();
    let num = match (user) {
        case User { age, name = "Peter" } => age,
        case User { age, name } if age > 5 => 20,
        case _ => 0
    };

    println("num computed");

    guard (num >= 10) else {
        println("guard");
        return 2;
    }

    println(typeof(user->name->length()));

    return num;
}

fn test_user() -> User {
    let user: User = { 
        age = 0, 
        name = "Peter",
        login = fn() -> void {
            return;
        }
    };
    return user;
}
