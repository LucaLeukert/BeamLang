fn always_one(value: any) -> number {
    return 1;
}

fn main() -> number {
    let iter = "hi"->chars();
    for (ch in iter) {
        println(typeof(ch));
    }
    let next_fn = iter->next;
    let first = next_fn(iter);
    let mapped = optional_map(first, always_one);
    return match (mapped) {
        case?some value => value,
        case?none => 0
    };
}
